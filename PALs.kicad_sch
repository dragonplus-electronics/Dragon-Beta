(kicad_sch (version 20211123) (generator eeschema)

  (uuid 163cdeae-7841-4f2c-b738-e36b081d5e19)

  (paper "A5")

  (title_block
    (title "PALs")
    (date "2022-06-08")
    (rev "0.2")
    (company "DragonPlus Electronics")
    (comment 1 "John Whitworth")
    (comment 3 "including Richard Harding's Dragon Beta PCB images.")
    (comment 4 "Reverse Engineering of Dragon Beta from various sources")
  )

  (lib_symbols
    (symbol "Logic_Programmable:PAL16L8" (pin_names (offset 1.016)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at -8.89 16.51 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "PAL16L8" (id 1) (at 1.27 16.51 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "PAL PLD 16L8" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Programmable Logic Array, DIP-20" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "DIP* PDIP*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "PAL16L8_0_0"
        (pin power_in line (at 0 -15.24 90) (length 3.81)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "10" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 17.78 270) (length 3.81)
          (name "VCC" (effects (font (size 1.27 1.27))))
          (number "20" (effects (font (size 1.27 1.27))))
        )
      )
      (symbol "PAL16L8_0_1"
        (rectangle (start -8.89 13.97) (end 7.62 -11.43)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
      )
      (symbol "PAL16L8_1_1"
        (pin input line (at -12.7 12.7 0) (length 3.81)
          (name "I1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 -10.16 0) (length 3.81)
          (name "I10" (effects (font (size 1.27 1.27))))
          (number "11" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 -5.08 180) (length 5.08)
          (name "IO8" (effects (font (size 1.27 1.27))))
          (number "12" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 -2.54 180) (length 5.08)
          (name "IO7" (effects (font (size 1.27 1.27))))
          (number "13" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 0 180) (length 5.08)
          (name "IO6" (effects (font (size 1.27 1.27))))
          (number "14" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 2.54 180) (length 5.08)
          (name "IO5" (effects (font (size 1.27 1.27))))
          (number "15" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 5.08 180) (length 5.08)
          (name "IO4" (effects (font (size 1.27 1.27))))
          (number "16" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 7.62 180) (length 5.08)
          (name "I03" (effects (font (size 1.27 1.27))))
          (number "17" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 10.16 180) (length 5.08)
          (name "IO2" (effects (font (size 1.27 1.27))))
          (number "18" (effects (font (size 1.27 1.27))))
        )
        (pin tri_state inverted (at 12.7 12.7 180) (length 5.08)
          (name "IO1" (effects (font (size 1.27 1.27))))
          (number "19" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 10.16 0) (length 3.81)
          (name "I2" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 7.62 0) (length 3.81)
          (name "I3" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 5.08 0) (length 3.81)
          (name "I4" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 2.54 0) (length 3.81)
          (name "I5" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 0 0) (length 3.81)
          (name "I6" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 -2.54 0) (length 3.81)
          (name "I7" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 -5.08 0) (length 3.81)
          (name "I8" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -12.7 -7.62 0) (length 3.81)
          (name "I9" (effects (font (size 1.27 1.27))))
          (number "9" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+5V" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+5V" (id 1) (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+5V\"" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+5V_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "+5V_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+5V" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (id 1) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )


  (text "SRAM Enable" (at 62.865 56.515 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 3761cd20-c69a-474c-91fc-894b62d3ac1f)
  )
  (text "chip PAL-IC16 PAL16L8 (PAL D on notes)\n\ni1=1 i2=2 i3=3 i4=4 i5=5 i6=6 i7=7 i8=8 i9=9 GND=10 i11=11 o12=12 \ni13=13 f14=14 o15=15 o16=16 o17=17 o18=18 o19=19 VCC=20 \n\nequations\n\n/o19 = /i3 * i4 * i5 * i6 (PIA SRAM Select and no other devices enabled)\no19.oe = vcc\n/o18 = i1 * i4 * i5 * i6 (E=1 and no other devices enabled)\no18.oe = vcc\n/o17 = /i2 * i1 * /i4 (E=1, write enabled and SRAM enabled)\no17.oe = vcc\n/o16 = /i2 * i13 (write enabled & ???)\no16.oe = vcc\n/o15 = i2 * i1 (E=1, read enabled)\no15.oe = vcc\n/f14 = /i8 (EXP_~{IRQ}=0 OR 2797-DRQ=0 OR NMI1=0 OR (???? AND BA1=0)\n    + i9\n    + /i7\n    + /f14 * /i11\nf14.oe = vcc\n/o12 = i9 (2797-DRQ = 1 OR EXP_~{IRQ}=0)\n    + /i8\no12.oe = vcc"
    (at 120.015 81.28 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 96256aed-7e48-4de7-8194-5f108d8d27e1)
  )
  (text "Rest of PALs now on relevant sheet.\nThis one probably belongs on the CPU sheet."
    (at 29.845 104.775 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid e47ae6ca-18b7-4734-ac68-9b9b90892221)
  )
  (text "HDD controller" (at 62.865 59.055 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid f8fe8e2a-77de-46d2-87d3-4311f06e423e)
  )
  (text "EXP-~{IRQ} is like /CART on the Dragon." (at 59.69 66.04 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid fe8e0a44-979d-4339-b38b-3c215fb0caa1)
  )

  (global_label "~{&FDxx}" (shape input) (at 71.755 57.785 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 0d0ef83e-1209-419f-9498-88bf85b13457)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 63.4437 57.7056 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "E1" (shape input) (at 71.755 47.625 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 0f36cf76-0c60-4294-9074-5de7ed34453a)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 67.0722 47.5456 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "EXP_B30" (shape bidirectional) (at 97.155 60.325 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 11526b27-64ca-4a25-b7a7-99829444e94d)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 107.7644 60.2456 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "BA1" (shape input) (at 71.755 70.485 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 1d5d6693-eda1-423e-a563-7a2114f51108)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 65.8627 70.5644 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "2797-~{DRQ}" (shape input) (at 71.755 67.945 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 1f92bed2-89a8-41c9-b068-d1372bdda73f)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 59.1498 68.0244 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "~{ROM_I20_OE}" (shape output) (at 97.155 50.165 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 2197dbae-82a7-4488-b5e7-b60b29c3d9f2)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 110.9697 50.0856 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "~{NMI1}" (shape input) (at 71.755 62.865 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 2f7eca62-eda8-4688-8943-eef709bd7317)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 64.8346 62.7856 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "~{&FExx}" (shape input) (at 71.755 55.245 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 38766a90-faac-46f1-9df8-a3947c2d58e5)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 63.5646 55.1656 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "SRAM_~{SEL}" (shape input) (at 71.755 52.705 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 50e19b5c-2a82-4ea0-ba7e-aa7fabf64792)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 60.057 52.7844 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "EXP-~{IRQ}" (shape input) (at 71.755 65.405 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 545f3e2b-a1d7-4e03-907c-7f7883ed3076)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 61.0246 65.3256 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "SRAM-~{WE}" (shape output) (at 97.155 52.705 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 5cab06cf-94fa-4c5d-abc1-110cb0208f01)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 108.6716 52.6256 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "~{FIRQ1}" (shape output) (at 97.155 65.405 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 7e7b977a-e842-40e6-a864-72896bacc217)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 104.9825 65.3256 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "MUX_R~{W}" (shape input) (at 71.755 50.165 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 8f0e1ea6-d278-4117-9e02-aaadcc59362e)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at -135.255 17.145 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )
  (global_label "2797-~{RE}" (shape output) (at 97.155 57.785 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 8f4e95b5-16d4-4332-96a6-066913667a9e)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 108.3087 57.7056 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "~{&FCxx}" (shape input) (at 71.755 60.325 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 9b356aa1-742b-401d-b565-abb7eb6bcb5b)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 63.4437 60.2456 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "SRAM-~{OE}" (shape output) (at 97.155 47.625 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid a5e505c0-c0af-4f61-a9d4-cf031c548012)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 108.5506 47.5456 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "2797-~{WE}" (shape output) (at 97.155 55.245 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid e8ce0cfa-6256-40de-bd64-01db088ea4f1)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 108.4902 55.1656 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "Q1+72ns" (shape input) (at 97.155 62.865 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid efc821e5-6f80-4548-b3c8-0b67eb09459f)
    (property "Intersheet References" "${INTERSHEET_REFS}" (id 0) (at 108.1878 62.7856 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )

  (symbol (lib_id "Logic_Programmable:PAL16L8") (at 84.455 60.325 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 00000000-0000-0000-0000-00006186850f)
    (property "Reference" "I16" (id 0) (at 76.835 43.815 0))
    (property "Value" "PAL16L8" (id 1) (at 89.535 73.025 0))
    (property "Footprint" "Package_DIP:DIP-20_W7.62mm" (id 2) (at 84.455 60.325 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 84.455 60.325 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "10" (uuid e0eb3519-e476-4db3-9e8f-7d65c7a0b8de))
    (pin "20" (uuid 317f7114-c246-427f-b313-05a2e48a5177))
    (pin "1" (uuid 998a76c6-6c92-4d98-8874-19f805f74304))
    (pin "11" (uuid b561f71d-48d3-4d9c-87b9-0e460e322c06))
    (pin "12" (uuid 8b8ab9f9-9923-4d55-a714-7802b5246781))
    (pin "13" (uuid 5415bf05-f64f-4e38-8fd7-edaa7c742d24))
    (pin "14" (uuid 95d8fdba-9829-48e8-8982-c38e02f78daf))
    (pin "15" (uuid ad641fc3-64dd-4d7c-93f2-37121046aaf4))
    (pin "16" (uuid 13acba29-8d9d-4a74-96b1-a85ed83b6de6))
    (pin "17" (uuid e177c647-07a8-4c4a-ad90-6573f59ada2e))
    (pin "18" (uuid bc48d1f3-b07a-42c5-bf75-83cbac4fea87))
    (pin "19" (uuid 5575cf14-8232-46c8-9473-3d6174d2fe35))
    (pin "2" (uuid a5b9f1d6-cea4-468e-a5f1-ae383f7a1fe0))
    (pin "3" (uuid 4d0cfc25-6ee4-46e1-8faa-4c23fc7f9e76))
    (pin "4" (uuid c4189b9c-2acf-4204-b82c-64f9fb9afd5b))
    (pin "5" (uuid 93d2e9a2-7200-406e-be73-d6352d848b30))
    (pin "6" (uuid b036802f-771e-4fc9-9408-0ca2039168d0))
    (pin "7" (uuid 39806158-0f9e-47da-8862-83d814d27a36))
    (pin "8" (uuid 1b721cfc-92de-4c24-9c15-58a076189580))
    (pin "9" (uuid 6900e8ae-7918-45c1-a1e3-d69ed66b53ad))
  )

  (symbol (lib_id "power:+5V") (at 84.455 42.545 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 00000000-0000-0000-0000-000061868515)
    (property "Reference" "#PWR0272" (id 0) (at 84.455 46.355 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+5V" (id 1) (at 84.836 38.1508 0))
    (property "Footprint" "" (id 2) (at 84.455 42.545 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 84.455 42.545 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid fce7d76b-2bfb-4eef-9e42-fc041c080995))
  )

  (symbol (lib_id "power:GND") (at 84.455 75.565 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 00000000-0000-0000-0000-00006186851b)
    (property "Reference" "#PWR0277" (id 0) (at 84.455 81.915 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 84.582 79.9592 0))
    (property "Footprint" "" (id 2) (at 84.455 75.565 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 84.455 75.565 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid dd31eb64-1182-4c2c-9eeb-37f8591a9058))
  )
)
